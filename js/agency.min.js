/*!
 * Start Bootstrap - Agency v5.0.7 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 */

! function(o) {
 "use strict";
    
/* example for edit sub page*/
$('#monthly').addClass('active-card');
$('#monthly').append('<i class="fas fa-check check1"></i>');

$(function(){
    var $select = $("#birthY");
    for (i=2019;i>=1920;i--){
        $select.append($('<option></option>').val(i).html(i))
    }
});
    
$('#yearly').on('click', function(ev) {
    $(this).addClass('active-card');
    $('i').remove(".fa-check");
    $(this).append('<i class="fas fa-check check2"></i>');
    
    $('#monthly').removeClass('active-card');
    $('#cancel').removeClass('active-card');
});
$('#monthly').on('click', function(ev) {
    $(this).addClass('active-card');
    $('i').remove(".fa-check");
    $(this).append('<i class="fas fa-check check1"></i>');
    
    $('#yearly').removeClass('active-card');
    $('#cancel').removeClass('active-card');
});
$('#cancel').on('click', function(ev) {
    $(this).addClass('active-card');
    $('i').remove(".fa-check");
    $(this).append('<i class="fas fa-check check3"></i>');
    
    $('#yearly').removeClass('active-card');
    $('#monthly').removeClass('active-card');
});
    
//changing value on Finished Sign Up page based on "plan" 
var pl = document.getElementById("plan");
var nm = location.search;
if(nm.indexOf("plan") >= 0 && !!pl)
{
   pl = nm.charAt(6); 
    
    console.log("Hello " + pl);
    
    if(pl == 0)
    {
        $('.titleOne').text("Reflect Monthly");
        $('.titleTwo').text("39.99");
    }
    else{
        $('.titleOne').text("Reflect Yearly");
        $('.titleTwo').text("399.99");
    }
}
    
$('#loginEchelonAccount').click(function (event) 
{   
    $('#ReflectMonthlyPrice').html("29.99");
    $('#ReflectYearlyPrice').html("299.99");
});
    
$('#sumbitBtn').click(function (event) 
{   
    //get last char in url, "?plan=1" -> "1"
    var plan = location.search;
    plan = plan.charAt(6);
    $('#plan').val(plan);
});

$('#sumbitBtn-2').click(function (event) 
{   
    //get last char in url, "?plan=1" -> "1"
    var plan = location.search;
    console.log(plan.substr(1,plan.length-1));
});

$('#ReflectMonthly').click(function (event) 
{   
    $('#ReflectMonthly').addClass('active');
    $('#ReflectMonthlyPrice').addClass('activey');
    $('#ReflectMonthlyFeature1').addClass('activey');
    $('#ReflectMonthlyFeature2').addClass('activey');
    $('#ReflectMonthlyPriceDis').addClass('activey');
    
    $('#ReflectYearly').removeClass('active');
    $('#ReflectYearlyPrice').removeClass('activey');
    $('#ReflectYearlyFeature1').removeClass('activey');
    $('#ReflectYearlyFeature2').removeClass('activey');
    $('#ReflectYearlyPriceDis').removeClass('activey');
    
    $('#ReflectYearlyPrice').addClass('notActivey');
    $('#ReflectYearlyFeature1').addClass('notActivey');
    $('#ReflectYearlyFeature2').addClass('notActivey');
    $('#ReflectYearlyPriceDis').addClass('notActivey');
    
    $('#ReflectMonthlyPrice').removeClass('notActivey');
    $('#ReflectMonthlyFeature1').removeClass('notActivey');
    $('#ReflectMonthlyFeature2').removeClass('notActivey');
    $('#ReflectMonthlyPriceDis').removeClass('notActivey');
    
    $('#plan').val("1");
});
    
$('#ReflectYearly').click(function (event) 
{   
    $('#ReflectMonthlyPrice').removeClass('activey');
    $('#ReflectMonthlyFeature1').removeClass('activey');
    $('#ReflectMonthlyFeature2').removeClass('activey');
    $('#ReflectMonthly').removeClass('active');
    $('#ReflectMonthlyPriceDis').removeClass('activey');
    
    $('#ReflectYearlyPrice').removeClass('notActivey');
    $('#ReflectYearlyFeature1').removeClass('notActivey');
    $('#ReflectYearlyFeature2').removeClass('notActivey');
    $('#ReflectYearlyPriceDis').removeClass('notActivey');
    
    $('#ReflectYearly').addClass('active');
    $('#ReflectYearlyPrice').addClass('activey');
    $('#ReflectYearlyFeature1').addClass('activey');
    $('#ReflectYearlyFeature2').addClass('activey');
    $('#ReflectYearlyPriceDis').addClass('activey');
    
    $('#ReflectMonthlyPrice').addClass('notActivey');
    $('#ReflectMonthlyFeature1').addClass('notActivey');
    $('#ReflectMonthlyFeature2').addClass('notActivey');
    $('#ReflectMonthlyPriceDis').addClass('notActivey');
    
    $('#plan').val("0");
});
    
    
//---------------Do not touch after this point!!!------------

function checkScreenSize(){
    var newWindowWidth = $(window).width();
    if (newWindowWidth < 481) {
        return true;
    }
    return false;
}
    
var dropdown = document.getElementsByClassName("dropdown-btn");
var i;

for (i = 0; i < dropdown.length; i++) {
  dropdown[i].addEventListener("click", function() {
  this.classList.toggle("active");
  var dropdownContent = this.nextElementSibling;
  if (dropdownContent.style.display === "block") {
  dropdownContent.style.display = "none";
  } else {
  dropdownContent.style.display = "block";
  }
  });
}

//changing cube slide title on customeTemplate.html
var noMove = document.getElementsByClassName("noMove");
var i; 
for (i = 0; i < noMove.length; i++) {
  noMove[i].addEventListener("click", function() {
      document.getElementById("cubeeEditPic").innerText = "Cubee - Edit Slide " + $(this).attr("value");
      
      document.getElementById("cubeeEditVideo").innerText = "Cubee - Edit Slide " + $(this).attr("value");
      
      $('.videoPlay').css('display','none');
      
        if($('.onlyOnMobile').css('display') === 'none'){
            if(checkScreenSize())
                $('.onlyOnMobile').css('display','inline-block');
            else
                $('.notOnMobile').css('display','inline-block'); 
        }
    $('#panel2').css("maxHeight", "0");
    $('#panel3').css("maxHeight", "0");
    $('#panel5').css("maxHeight", "0");
    $('#panel6').css("maxHeight", "0");
    $('#panel').css('max-height', '100%');
    $('#panel4').css('max-height', '100%');

      });
}

//-----------THIS IS BOOTSTRAP JQ DO NOT TOUCH----------------------------
 o('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function() {
  if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) {
   var a = o(this.hash);
   if ((a = a.length ? a : o("[name=" + this.hash.slice(1) + "]")).length) return o("html, body").animate({
    scrollTop: a.offset().top - 54
   }, 1e3, "easeInOutExpo"), !1
  }
 }), o(".js-scroll-trigger").click(function() {
  o(".navbar-collapse").collapse("hide")
 }), o("body").scrollspy({
  target: "#mainNav",
  offset: 56
 });
 var a = function() {
  100 < o("#mainNav").offset().top ? o("#mainNav").addClass("navbar-shrink") : o("#mainNav").removeClass("navbar-shrink")
 };
 a(), o(window).scroll(a), o(".portfolio-modal").on("show.bs.modal", function(a) {
  o(".navbar").addClass("d-none")
 }), o(".portfolio-modal").on("hidden.bs.modal", function(a) {
  o(".navbar").removeClass("d-none")
 })
}(jQuery);

var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight){
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}

function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
};

var myInput = document.getElementById("psw");
var letter = document.getElementById("letter");
var capital = document.getElementById("capital");
var number = document.getElementById("number");
var length = document.getElementById("length");

// When the user clicks on the password field, show the message box
if(!!myInput){
    myInput.onfocus = function() {
      document.getElementById("message").style.display = "block";
    }
    // When the user clicks outside of the password field, hide the message box
    myInput.onblur = function() {
      document.getElementById("message").style.display = "none";
    }
    // When the user starts to type something inside the password field
    myInput.onkeyup = function() {
      // Validate lowercase letters
      var lowerCaseLetters = /[a-z]/g;
      if(myInput.value.match(lowerCaseLetters)) {  
        letter.classList.remove("invalid");
        letter.classList.add("valid");
      } else {
        letter.classList.remove("valid");
        letter.classList.add("invalid");
      }

      // Validate capital letters
      var upperCaseLetters = /[A-Z]/g;
      if(myInput.value.match(upperCaseLetters)) {  
        capital.classList.remove("invalid");
        capital.classList.add("valid");
      } else {
        capital.classList.remove("valid");
        capital.classList.add("invalid");
      }

      // Validate numbers
      var numbers = /[0-9]/g;
      if(myInput.value.match(numbers)) {  
        number.classList.remove("invalid");
        number.classList.add("valid");
      } else {
        number.classList.remove("valid");
        number.classList.add("invalid");
      }

      // Validate length
      if(myInput.value.length >= 8) {
        length.classList.remove("invalid");
        length.classList.add("valid");
      } else {
        length.classList.remove("valid");
        length.classList.add("invalid");
      }
    }
}




document.getElementById('pic1').addEventListener('change', readURL, true);
document.getElementById('pic2').addEventListener('change', readURL2, true);
document.getElementById('pic3').addEventListener('change', readURL3, true);
document.getElementById('pic4').addEventListener('change', readURL4, true);

function readURL(){
    
   var file = document.getElementById(this.id).files[0];
   var reader = new FileReader();
   reader.onloadend = function(){
       
       var id = '#' + $('#pic1').closest('div').prop('id');
       
        $(id).find('.familyMemberPhoto-lg').css("backgroundImage", "url(" + reader.result + ")");
        $(id).find('.fa-user-circle').css("opacity", "0");
   }
   if(file){
      reader.readAsDataURL(file);
    }else{
    }
}
function readURL2(){
    
   var file = document.getElementById(this.id).files[0];
   var reader = new FileReader();
   reader.onloadend = function(){
       
       var id = '#' + $('#pic2').closest('div').prop('id');
       
        $(id).find('.familyMemberPhoto-lg').css("backgroundImage", "url(" + reader.result + ")");
        $(id).find('.fa-user-circle').css("opacity", "0");
   }
   if(file){
      reader.readAsDataURL(file);
    }else{
    }
}
function readURL3(){
    
   var file = document.getElementById(this.id).files[0];
   var reader = new FileReader();
   reader.onloadend = function(){
       
       var id = '#' + $('#pic3').closest('div').prop('id');
       
        $(id).find('.familyMemberPhoto-lg').css("backgroundImage", "url(" + reader.result + ")");
        $(id).find('.fa-user-circle').css("opacity", "0");
   }
   if(file){
      reader.readAsDataURL(file);
    }else{
    }
}
function readURL4(){
    
   var file = document.getElementById(this.id).files[0];
   var reader = new FileReader();
   reader.onloadend = function(){
       
       var id = '#' + $('#pic4').closest('div').prop('id');
       
        $(id).find('.familyMemberPhoto-lg').css("backgroundImage", "url(" + reader.result + ")");
        $(id).find('.fa-user-circle').css("opacity", "0");
   }
   if(file){
      reader.readAsDataURL(file);
    }else{
    }
}